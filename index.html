<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday, Siddhi! </title>
    <style>
        /* Aesthetic and Celebratory Styles (Dark/Aesthetic theme) */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #0d0d1a; /* Very dark night sky for firework contrast */
            font-family: 'Poppins', sans-serif; /* Modern, aesthetic font */
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
        }

        /* Canvas for the Firework Animation */
        #fireworkCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; 
        }

        /* Main Greeting Container */
        #greetingContainer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            text-align: center;
            padding: 30px;
            background: rgba(0, 0, 0, 0.6); /* Sleek, dark overlay */
            border-radius: 15px;
            border: 2px solid #9c00ff; /* Purple/Magenta aesthetic glow */
            backdrop-filter: blur(8px);
            box-shadow: 0 0 40px rgba(156, 0, 255, 0.8), 0 0 15px rgba(255, 255, 255, 0.5);
            max-width: 90vw;
            animation: popIn 1.5s ease-out;
        }

        @keyframes popIn {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        /* Titles and Text Styling */
        h1 {
            font-size: 4.5em;
            margin-bottom: 0.1em;
            color: #ff99ff; /* Bright aesthetic pink/purple */
            text-shadow: 0 0 10px #ff00ff, 0 0 5px #fff;
        }

        h2 {
            font-size: 1.8em;
            color: #00ffff; /* Cyan aesthetic touch */
            margin-top: 0;
            text-shadow: 1px 1px 2px #000;
        }
        
        /* Dubai Tower / Photo Mock-up */
        #dubaiTower {
            margin: 20px auto;
            width: 120px;
            height: 250px;
            background: #111;
            border: 1px solid #ffcc00;
            position: relative;
            transform: skewX(-5deg); /* Aesthetic slant */
            box-shadow: inset 0 0 15px rgba(255, 255, 0, 0.5);
        }

        #photoScreen {
            position: absolute;
            top: 15%;
            left: 10%;
            width: 80%;
            height: 20%;
            /* PATH INTEGRATION: Loads image from the 'public' folder */
            background: url('/siddhi-bday-photo.jpg') center/cover; 
            border: 3px solid #00ffff; /* Cyberpunk border */
            box-shadow: 0 0 15px #00ffff;
            animation: flicker 0.1s infinite alternate;
        }

        @keyframes flicker {
            0% { opacity: 1; }
            100% { opacity: 0.98; }
        }

        /* Scrollable Message Box */
        #messageBox {
            max-height: 25vh; /* Ensures scroll works */
            max-width: 80vw;
            overflow-y: scroll;
            text-align: left;
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #00ffff;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            line-height: 1.7;
            font-size: 1.1em;
            white-space: pre-wrap;
            color: #e0e0e0;
        }
        
        /* Aesthetic Scrollbar */
        #messageBox::-webkit-scrollbar {
            width: 6px;
        }
        #messageBox::-webkit-scrollbar-thumb {
            background-color: #00ffff;
            border-radius: 3px;
        }
        #messageBox::-webkit-scrollbar-track {
            background: transparent;
        }

        #signoff {
            margin-top: 20px;
            font-size: 1.2em;
            font-style: italic;
            color: #ff99ff;
        }

    </style>
</head>
<body>
    <canvas id="fireworkCanvas"></canvas>

    <div id="greetingContainer">
        <h1>Happy Birthday, Bachha! call karu?</h1>
        
        <div id="dubaiTower">
            <div id="photoScreen"></div>
        </div>
        
        <h2>Tera din itna sahi jaye, aaj hi nahi har roj!</h2>
        
        <div id="messageBox">
            <p><strong>Hey Sid,</strong></p>
            
            <p>I remember all the laughs, the late-night talks, and the silly adventures we've shared. You bring so much light and color into the world, and I feel so lucky to have you in my life.</p>
            
            <p>May your day be filled with all the joy, cake, and **aesthetic beauty** as you want. </p>
            
            <p>Here's to another year of friendship, happiness, and chasing dreams! This grand light show is just a small reflection of how brightly you shine.</p>

            <p>Lots of love girlie, <br>[Your bestie always]</p>
        </div>

        <div id="signoff">
            ✨ Yaha niche scroll kr! ✨
        </div>
    </div>

    <script>
        // --- High-Quality Firework Particle System with Reflection ---

        const canvas = document.getElementById('fireworkCanvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        const waterLevel = 0.7; // Water surface starts at 70% down the screen

        function resizeCanvas() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        const fireworks = [];
        const particles = [];
        const reflections = []; // For particles reflected on water
        const gravity = 0.08;
        const trailLength = 0.2; // Controls the fade effect for rockets
        const particleTrailLength = 0.05; // Fade for explosion particles

        // Utility to get a random aesthetic color
        function randomColor() {
            const hue = Math.floor(Math.random() * 360);
            return `hsl(${hue}, 100%, 70%)`;
        }

        // Particle Class (for the actual sparks)
        class Particle {
            constructor(x, y, color, speed, angle, isRocket = false, isReflection = false) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.isRocket = isRocket;
                this.isReflection = isReflection;
                this.life = isRocket ? 300 : Math.random() * 60 + 30; // Longer life for particles
                this.originalY = y; // To calculate reflection starting point

                this.velocity = {
                    x: Math.cos(angle) * speed,
                    y: Math.sin(angle) * speed
                };
                this.friction = isReflection ? 0.97 : 0.99; // More drag for reflections
                this.alpha = isReflection ? 0.6 : 1; // Reflections start fainter
                this.radius = Math.random() * 2 + 1; // Varying particle size
            }

            update() {
                this.velocity.x *= this.friction;
                this.velocity.y *= this.friction;
                this.velocity.y += gravity;
                this.x += this.velocity.x;
                this.y += this.velocity.y;
                
                if (!this.isRocket) {
                    this.alpha -= (this.isReflection ? 0.008 : 0.012); // Reflections fade faster
                }
                this.life--;

                // If a non-reflection particle hits water, create its reflection
                if (!this.isReflection && this.y >= height * waterLevel && !this.reflected) {
                    this.reflected = true; // Prevent multiple reflections
                    // Calculate starting point and initial velocity for reflection
                    const reflectionY = height * waterLevel + (height * waterLevel - this.originalY);
                    const reflectionVelocityY = -this.velocity.y * 0.5; // Reflection velocity is less
                    const reflectionVelocityX = this.velocity.x * 0.8;

                    reflections.push(new Particle(
                        this.x, 
                        height * waterLevel + (this.y - height * waterLevel), // Start reflection at water line
                        this.color, 
                        Math.sqrt(reflectionVelocityX * reflectionVelocityX + reflectionVelocityY * reflectionVelocityY), 
                        Math.atan2(reflectionVelocityY, reflectionVelocityX), 
                        false, true // Not a rocket, IS a reflection
                    ));
                }
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = Math.max(0, this.alpha); // Ensure alpha doesn't go below 0
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }

        // Firework Rocket Class (the trail going up)
        class Firework {
            constructor() {
                this.x = Math.random() * width * 0.8 + width * 0.1;
                this.y = height;
                this.targetY = Math.random() * height * 0.5; // Explode higher
                this.color = randomColor();
                this.speed = Math.random() * 3 + 5; // Faster rockets
                this.exploded = false;
                this.angle = -Math.PI / 2;
                
                this.rocket = new Particle(this.x, this.y, this.color, this.speed, this.angle, true);
            }

            update() {
                if (!this.exploded) {
                    this.rocket.update();
                    
                    if (this.rocket.y <= this.targetY) {
                        this.explode();
                        this.exploded = true;
                    }
                }
            }
            
            explode() {
                const count = Math.floor(Math.random() * 150) + 100; // Even more particles for bigger explosions
                const explosionSpeed = Math.random() * 4 + 2;
                for (let i = 0; i < count; i++) {
                    const angle = (Math.PI * 2) * (i / count);
                    particles.push(new Particle(this.rocket.x, this.rocket.y, this.color, explosionSpeed, angle));
                }
            }
        }

        // Animation Loop
        function animate() {
            requestAnimationFrame(animate);

            // Clear with a darker, more opaque fill for better trail effects and darker sky
            ctx.fillStyle = `rgba(0, 0, 0, 0.15)`; 
            ctx.fillRect(0, 0, width, height);

            // Draw the water surface
            const waterGradient = ctx.createLinearGradient(0, height * waterLevel, 0, height);
            waterGradient.addColorStop(0, 'rgba(0, 50, 100, 0.4)'); // Dark blue/cyan for water
            waterGradient.addColorStop(1, 'rgba(0, 20, 40, 0.6)');
            ctx.fillStyle = waterGradient;
            ctx.fillRect(0, height * waterLevel, width, height * (1 - waterLevel));

            // Update and draw fireworks (rockets)
            for (let i = fireworks.length - 1; i >= 0; i--) {
                fireworks[i].update();
                if (!fireworks[i].exploded) {
                    fireworks[i].rocket.draw();
                }
                // Remove the rocket if exploded and all its particles have faded/gone
                if (fireworks[i].exploded && fireworks[i].rocket.alpha <= 0.05) {
                    fireworks.splice(i, 1);
                }
            }

            // Update and draw explosion particles
            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                p.update();
                p.draw();
                if (p.alpha <= 0 || p.life <= 0) {
                    particles.splice(i, 1);
                }
            }

            // Update and draw reflection particles
            for (let i = reflections.length - 1; i >= 0; i--) {
                const r = reflections[i];
                r.update();
                r.draw();
                if (r.alpha <= 0 || r.life <= 0) {
                    reflections.splice(i, 1);
                }
            }
        }

        // Periodically launch new fireworks
        setInterval(() => {
            if (fireworks.length < 10) { // Allow more concurrent fireworks for a grander show
                fireworks.push(new Firework());
            }
        }, 300); // Launch a new rocket very frequently

        // Start the animation
        animate();
    </script>
</body>
</html>
